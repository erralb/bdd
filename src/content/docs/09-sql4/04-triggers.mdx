---
title: Triggers (Déclencheurs)
description: Les déclencheurs sont des procédures stockées qui sont automatiquement exécutées lorsqu'un événement spécifique se produit dans une base de données.
sidebar:
  label: Triggers
---

import Slide from "/src/components/Slide.astro";

<Slide title="Déclencheurs (Triggers)">

Les déclencheurs sont des procédures stockées qui sont automatiquement exécutées lorsqu'un événement spécifique se produit dans une base de données.

On peut les assimminer à des "observateurs" qui réagissent à des événements spécifiques, comme l'insertion, la mise à jour ou la suppression de données.

Les déclencheurs permettent de définir des contraintes dynamiques.

</Slide>
<Slide>

## Utilisation des déclencheurs

Les déclencheurs sont utilisés pour :

- Vérifier l'intégrité des données
- Mettre à jour des données dans une table en fonction des modifications apportées à une autre table
- Auditer les modifications apportées aux données
- Réagir à des événements spécifiques

</Slide>
<Slide>

## Syntaxe

```sql
CREATE TRIGGER nom_declencheur
BEFORE | AFTER | INSTEAD OF {INSERT | UPDATE | DELETE}
ON nom_table
FOR EACH ROW
BEGIN
    -- Instructions
END;
```

- `BEFORE` : déclencheur exécuté avant l'événement
- `AFTER` : déclencheur exécuté après l'événement
- `INSTEAD OF` : déclencheur exécuté à la place de l'événement

</Slide>
<Slide>

## Exemple

```sql
CREATE TRIGGER maj_solde
AFTER INSERT ON Commandes
FOR EACH ROW
BEGIN
    UPDATE Comptes
    SET solde = solde - NEW.montant
    WHERE id = NEW.id_compte;
END;
```

Ce déclencheur met à jour le solde du compte après l'insertion d'une nouvelle commande.

</Slide>
<Slide>

## Types de déclencheurs

Il existe 3 types de déclencheurs :

- **BEFORE** : déclencheur exécuté avant l'événement
- **AFTER** : déclencheur exécuté après l'événement
- **INSTEAD OF** : déclencheur exécuté à la place de l'événement

</Slide>
<Slide>

## Conclusion

Les déclencheurs sont des procédures stockées qui sont automatiquement exécutées lorsqu'un événement spécifique se produit dans une base de données.

Ils sont utilisés pour vérifier l'intégrité des données, mettre à jour des données en fonction des modifications apportées à une autre table, auditer les modifications apportées aux données et réagir à des événements spécifiques.

</Slide>
